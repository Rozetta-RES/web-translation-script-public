const interfaceLanguage=document.currentScript.attributes.lang?document.currentScript.attributes.lang.value:"ja",getMessage=t=>({ja:{tf:"\u5148\u306b\u7ffb\u8a33\u3057\u3066\u304f\u3060\u3055\u3044",ot:"\u539f\u6587",tt:"\u8a33\u6587",te:"\u8a33\u6587\u7de8\u96c6",de:"\u8f9e\u66f8\u7de8\u96c6",ds:"\u524a\u9664\u3057\u307e\u3057\u305f",df:"\u524a\u9664\u5931\u6557\u3057\u307e\u3057\u305f",da:"\u3053\u306e\u30da\u30fc\u30b8\u306e\u7ffb\u8a33\u3057\u305f\u5185\u5bb9\u3092\u524a\u9664",ns:"\u6307\u5b9a\u306a\u3057",us:"\u66f4\u65b0\u5b8c\u4e86",nst:"\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u7a2e\u985e\u3067\u3059\u3002",fs:"\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba",wf:"\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059\u3002\nutf-8\u3001\u30ab\u30f3\u30de\u533a\u5207\u308a\u306eCSV\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b\u3053\u3068\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002",wu:"\u66f4\u65b0\u6642\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",wb:"\u30c7\u30fc\u30bf\u306f\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u753b\u9762\u66f4\u65b0\u306b\u554f\u984c\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u3002",cu:"CSV\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",cd:"CSV\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",aa:"\u3059\u3079\u3066\u306e\u7de8\u96c6\u3092\u53cd\u6620\u3059\u308b",ci:"\u753b\u50cf\u5909\u63db"},en:{tf:"Please translate before editing.",ot:"Text before translated",tt:"Translated Text",te:"Edit Translation",de:"Edit Dictionary",ds:"Deleted!",df:"Something wrong when deleting.",da:"Delete all translation records in this page.",ns:"Unspecified",us:"Updated!",nst:"Type of th file is unsupported!",fs:"Font Size",wf:"Wrong format! Please check the file is encoded with utf-8 and is separated by comma.",wu:"There are some error when updating your data.",wb:"Data is uploaded, but some error when refresh the current page.",cu:"Upload CSV",cd:"Download CSV",aa:"Apply all modification",ci:"Image Transform"}}[interfaceLanguage][t]),hadleEditor=t=>{if(window.isEditing){const e=t.target.className.split(/(\s+)/),a=Number(e.find((t=>t.includes("rozetta-translate-index-"))).replace("rozetta-translate-index-","")),r=$("#rozetta-editor-content").height()-$(window).height();$("#rozetta-editor-content").animate({scrollTop:$("#rozetta-editor-content").scrollTop()+$(`#rozetta-translator-editor-item-${a}`).offset().top-$("html, body").scrollTop()+r},500);const n=$(`#rozetta-translator-editor-item-${a} > td > textarea.rozetta-translation-text`).val();$(`#rozetta-translator-editor-item-${a} > td > textarea.rozetta-translation-text`).val(""),$(`#rozetta-translator-editor-item-${a} > td > textarea.rozetta-translation-text`).focus(),$(`#rozetta-translator-editor-item-${a} > td > textarea.rozetta-translation-text`).val(n),$("[class*=rozetta-hightlight-selected]").removeClass("rozetta-hightlight-selected")}},handleAllElementsEvent=()=>{window.isEditing||$("[class*=rozetta-hightlight]").unbind("click",hadleEditor),ttn(document.body,(t=>{$(t.parentElement).hasClass("rozetta-hightlight")?window.isEditing||$(t.parentElement).removeClass("rozetta-hightlight"):window.isEditing&&$(t.parentElement).addClass("rozetta-hightlight")})),window.isEditing&&$("[class*=rozetta-hightlight]").bind("click",hadleEditor)},hadleEditImage=t=>{if(window.isEditing){const e=t.target.className.split(/(\s+)/).find((t=>t.includes("rozetta-translate-index-"))).replace("rozetta-translate-index-",""),a=$("#rozetta-editor-content").height()-$(window).height();$("#rozetta-editor-content").animate({scrollTop:$("#rozetta-editor-content").scrollTop()+$(`#rozetta-translator-editor-item-${e}`).offset().top-$("html, body").scrollTop()+a},500);const r=$(`#rozetta-translator-editor-item-${e} > td > textarea.rozetta-translation-text`).val();$(`#rozetta-translator-editor-item-${e} > td > textarea.rozetta-translation-text`).val(""),$(`#rozetta-translator-editor-item-${e} > td > textarea.rozetta-translation-text`).focus(),$(`#rozetta-translator-editor-item-${e} > td > textarea.rozetta-translation-text`).val(r),$("[class*=rozetta-hightlight-selected]").removeClass("rozetta-hightlight-selected")}},handleAllImagesEvent=()=>{window.isEditing||$("[class*=rozetta-image-hightlight]").unbind("click",hadleEditImage),ttn(document.body,(t=>{}),(t=>{$(t).hasClass("rozetta-image-hightlight")?window.isEditing||$(t).removeClass("rozetta-image-hightlight"):window.isEditing&&$(t).addClass("rozetta-image-hightlight")})),window.isEditing&&$("[class*=rozetta-image-hightlight]").bind("click",hadleEditImage)},updateTranslations=async()=>{const t=window.location.pathname,e=new URLSearchParams(window.location.search);try{const a=window.rozettaTranslationResult.filter((t=>t.currentModified.trim()&&t.currentModified.trim()!==t.translatedText||""!==t.currentProperties&&t.currentProperties!==t.properties)),r=await fetch(`${TRANSLATION_RESULT_SERVER}/translationTexts?url=${encodeURIComponent(`${t}?lang=${lang||e.get("language")}`)}&userKey=${userKey}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:encodeURIComponent(`${t}?lang=${lang||e.get("language")}`),userKey:userKey,sourceLang:oriLang,targetLang:lang||e.get("language"),originalText:a.map((t=>({id:t.id,text:t.sourceText}))),translation:a.map((t=>({id:t.id,text:t.currentModified?t.currentModified.trim():t.currentModified}))),properties:a.map((t=>({id:t.id,text:t.currentProperties}))).filter((t=>""!==t.text)).map((t=>({...t,text:JSON.stringify(t.text)})))})}),n=await r.json().then();window.rozettaTranslationResult=window.rozettaTranslationResult.map((t=>({...t,translatedText:n.translation.find((e=>e.id===t.id))?n.translation.find((e=>e.id===t.id)).text:t.translatedText,currentModified:n.translation.find((e=>e.id===t.id))?n.translation.find((e=>e.id===t.id)).text:t.currentModified,properties:n.properties.find((e=>e.id===t.id))?n.properties.find((e=>e.id===t.id)).text:t.properties,currentProperties:n.properties.find((e=>e.id===t.id))?n.properties.find((e=>e.id===t.id)).text:t.currentProperties}))),alert(getMessage("us")),$("[class*=rozetta-hightlight-selected]").removeClass("rozetta-hightlight-selected"),$("[class*=rozetta-translate-index-]").removeClass("rozetta-translator-item-edited")}catch(t){throw console.log(t),alert("edit failed!"),new Error(t)}},handleTranslationConfirm=async()=>{$(".confirm-button").hide();const t=new URLSearchParams(window.location.search),e=window.rozettaTranslationResult.map((t=>({id:t.id,text:t.sourceText}))),a=window.rozettaTranslationResult.map((t=>({id:t.id,text:t.currentModified?t.currentModified.trim():t.currentModified}))),r=window.rozettaTranslationResult.map((t=>({id:t.id,text:t.currentProperties}))).filter((t=>""!==t.text));oriLang,lang||t.get("language"),JSON.stringify(e),JSON.stringify(a),JSON.stringify(r);try{await updateTranslations()}catch(t){throw console.log(t),alert("edit failed!1"),$(".confirm-button").show(),new Error(t)}},openEditor=()=>{$("#rozetta-translator-editor").addClass("active"),window.isEditing=!0,"rozetta-edit-button"===window.rozettaEditingMode?handleAllElementsEvent():"rozetta-image-button"===window.rozettaEditingMode&&handleAllImagesEvent()},closeEditor=()=>{$(".editor-button").removeClass("active"),$("#rozetta-translator-editor").removeClass("active"),$("[class*=rozetta-hightlight-selected]").removeClass("rozetta-hightlight-selected"),window.isEditing=!1,"rozetta-edit-button"===window.rozettaEditingMode?handleAllElementsEvent():"rozetta-image-button"===window.rozettaEditingMode&&handleAllImagesEvent()},controlEditor=t=>{$(".editor-button").not(`#${t}`).removeClass("active"),$(`#${t}`).toggleClass("active"),window.rozettaEditingMode=t,$(`#${t}`).hasClass("active")?($("#rozetta-translator-editor").addClass("active"),window.isEditing=!0,"rozetta-edit-button"===window.rozettaEditingMode?handleAllElementsEvent():"rozetta-image-button"===window.rozettaEditingMode&&handleAllImagesEvent()):($(".editor-button").removeClass("active"),$("#rozetta-translator-editor").removeClass("active"),$("[class*=rozetta-hightlight-selected]").removeClass("rozetta-hightlight-selected"),window.isEditing=!1,"rozetta-edit-button"===window.rozettaEditingMode?handleAllElementsEvent():"rozetta-image-button"===window.rozettaEditingMode&&handleAllImagesEvent())},initAfterTranslated=()=>{$("[id^=rozetta-translator-editor-item-] > td > textarea.rozetta-translation-text").bind("input propertychange",(t=>{const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));window.rozettaTranslationResult=window.rozettaTranslationResult.map((a=>({...a,currentModified:a.id===e?$(t.target).val().replace(/[\n\t\r]/g,""):a.currentModified}))),window.rozettaTranslationResult.find((t=>t.id===e))||(console.log(window.rozettaTranslationResult),console.log(e)),$(t.target).val()===window.rozettaTranslationResult.find((t=>t.id===e)).translatedText?$(`.rozetta-translate-index-${e}`).removeClass("rozetta-translator-item-edited"):$(`.rozetta-translate-index-${e}`).addClass("rozetta-translator-item-edited"),$(`.rozetta-translate-index-${e}`).text($(t.target).val()),window.rozettaTranslationResult.filter((t=>t.translatedText!==t.currentModified)).length>0?$(".confirm-button").show():$(".confirm-button").hide()})),$("[id^=rozetta-translator-editor-item-] > td > textarea.rozetta-translation-text").bind("click",(t=>{if(window.isEditing){const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));$("html, body").animate({scrollTop:$(`.rozetta-translate-index-${e}`).offset().top-200},500),$("[class*=rozetta-hightlight-selected]").removeClass("rozetta-hightlight-selected"),$(`.rozetta-translate-index-${e}`).addClass("rozetta-hightlight-selected")}})),$("[id^=rozetta-translator-editor-item-] > td > select.rozetta-translation-properties").bind("input propertychange",(t=>{const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));window.rozettaTranslationResult=window.rozettaTranslationResult.map((a=>({...a,currentProperties:a.id===e?{"font-size":""===$(t.target).val()?"":`${$(t.target).val()}px`}:a.currentProperties}))),$(`.rozetta-translate-index-${e}`).css({"font-size":""===$(t.target).val()?"":`${$(t.target).val()}px`}),window.rozettaTranslationResult.filter((t=>t.properties!==t.currentProperties)).length>0?$(".confirm-button").show():$(".confirm-button").hide()}))},initAfterImageChanged=()=>{$("[id^=rozetta-translator-editor-item-] > td > input.rozetta-translation-src").bind("input propertychange",(t=>{const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));window.rozettaTranslationResult=window.rozettaTranslationResult.map((a=>({...a,currentModified:a.id===e?$(t.target).val():a.currentModified}))),$(t.target).val()===window.rozettaTranslationResult.find((t=>t.id===e)).translatedText?$(`.rozetta-translate-index-${e}`).removeClass("rozetta-translator-item-edited"):$(`.rozetta-translate-index-${e}`).addClass("rozetta-translator-item-edited"),$(t.target.previousElementSibling).attr("src",$(t.target).val()),$(`.rozetta-translate-index-${e}`).attr("src",$(t.target).val()),window.rozettaTranslationResult.filter((t=>t.translatedText!==t.currentModified)).length>0?$(".confirm-button").show():$(".confirm-button").hide()})),$("[id^=rozetta-translator-editor-item-] > td > textarea.rozetta-translation-text").bind("click",(t=>{if(window.isEditing){const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));$("html, body").animate({scrollTop:$(`.rozetta-translate-index-${e}`).offset().top-200},500),$("[class*=rozetta-image-hightlight-selected]").removeClass("rozetta-hightlight-selected"),$(`.rozetta-translate-index-${e}`).addClass("rozetta-hightlight-selected")}}))},handleTranslationEditor=async(t=!0)=>{if(window.rozettaTranslationResult&&window.rozettaTranslationResult.filter((t=>"text"===t.type))){if(t){controlEditor("rozetta-edit-button");const t=`\n        <h1>\n        ${getMessage("te")}\n        </h1>\n        `;$("#rozetta-editor-title").html(t),$(".confirm-button").attr("onclick","handleTranslationConfirm()")}if(window.rozettaTranslationResult=window.rozettaTranslationResult.map((t=>({...t,currentModified:t.currentModified||t.translatedText,properties:t.properties||"",currentProperties:t.currentProperties||t.properties||""}))),"rozetta-edit-button"===window.rozettaEditingMode){const t=[10,11,12,14,16,18,20,24,26,28,36,48,72],e=e=>{try{const a=JSON.parse(e)["font-size"].replace("px","");return t.map((t=>`<option value="${t}" ${a===`${t}`?"selected":""}>${t}</option>`))}catch(e){return t.map((t=>`<option value="${t}">${t}</option>`))}},a=`<tr><th>${getMessage("ot")}</th><th>${getMessage("tt")}</th><th width="12%">${getMessage("fs")}</th></tr>`,r=window.rozettaTranslationResult.filter((t=>"text"===t.type)).map((t=>`\n            <tr id="rozetta-translator-editor-item-${t.id}">\n                <td><textarea class="form-input" rows="2" disabled>${t.sourceText}</textarea></td>\n                <td><textarea class="form-input rozetta-translation-text ${t.isModified?"":"unmodified"}" rows="2">${t.currentModified}</textarea></td>\n                <td><select class="form-select rozetta-translation-properties"><option value="">${getMessage("ns")}</option>${e(t.properties)}</select></td>\n            <tr>\n        `));$("#rozetta-editor-content > table").html(`${a}${r}`),$("[id^=rozetta-translator-editor-item-] > td > textarea.rozetta-translation-text").bind("input propertychange",(t=>{const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));window.rozettaTranslationResult=window.rozettaTranslationResult.map((a=>({...a,currentModified:a.id===e?$(t.target).val().replace(/[\n\t\r]/g,""):a.currentModified}))),window.rozettaTranslationResult.find((t=>t.id===e))||(console.log(window.rozettaTranslationResult),console.log(e)),$(t.target).val()===window.rozettaTranslationResult.find((t=>t.id===e)).translatedText?$(`.rozetta-translate-index-${e}`).removeClass("rozetta-translator-item-edited"):$(`.rozetta-translate-index-${e}`).addClass("rozetta-translator-item-edited"),$(`.rozetta-translate-index-${e}`).text($(t.target).val()),window.rozettaTranslationResult.filter((t=>t.translatedText!==t.currentModified)).length>0?$(".confirm-button").show():$(".confirm-button").hide()})),$("[id^=rozetta-translator-editor-item-] > td > textarea.rozetta-translation-text").bind("click",(t=>{if(window.isEditing){const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));$("html, body").animate({scrollTop:$(`.rozetta-translate-index-${e}`).offset().top-200},500),$("[class*=rozetta-hightlight-selected]").removeClass("rozetta-hightlight-selected"),$(`.rozetta-translate-index-${e}`).addClass("rozetta-hightlight-selected")}})),$("[id^=rozetta-translator-editor-item-] > td > select.rozetta-translation-properties").bind("input propertychange",(t=>{const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));window.rozettaTranslationResult=window.rozettaTranslationResult.map((a=>({...a,currentProperties:a.id===e?{"font-size":""===$(t.target).val()?"":`${$(t.target).val()}px`}:a.currentProperties}))),$(`.rozetta-translate-index-${e}`).css({"font-size":""===$(t.target).val()?"":`${$(t.target).val()}px`}),window.rozettaTranslationResult.filter((t=>t.properties!==t.currentProperties)).length>0?$(".confirm-button").show():$(".confirm-button").hide()}))}else if("rozetta-image-button"===window.rozettaEditingMode){const t=`<tr><th>${getMessage("ot")}</th><th>${getMessage("tt")}</th></tr>`,e=window.rozettaTranslationResult.filter((t=>"img"===t.type)).map((t=>`\n            <tr id="rozetta-translator-editor-item-${t.id}">\n                <td><img src="${t.sourceText}" /><input type="input" class="form-input" disabled value=${t.sourceText} /></td>\n                <td><img src="${t.currentModified}" /><input type="input" class="form-input rozetta-translation-src" value=${t.currentModified} /></td>\n            <tr>\n        `));$("#rozetta-editor-content > table").html(`${t}${e}`),$("[id^=rozetta-translator-editor-item-] > td > input.rozetta-translation-src").bind("input propertychange",(t=>{const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));window.rozettaTranslationResult=window.rozettaTranslationResult.map((a=>({...a,currentModified:a.id===e?$(t.target).val():a.currentModified}))),$(t.target).val()===window.rozettaTranslationResult.find((t=>t.id===e)).translatedText?$(`.rozetta-translate-index-${e}`).removeClass("rozetta-translator-item-edited"):$(`.rozetta-translate-index-${e}`).addClass("rozetta-translator-item-edited"),$(t.target.previousElementSibling).attr("src",$(t.target).val()),$(`.rozetta-translate-index-${e}`).attr("src",$(t.target).val()),window.rozettaTranslationResult.filter((t=>t.translatedText!==t.currentModified)).length>0?$(".confirm-button").show():$(".confirm-button").hide()})),$("[id^=rozetta-translator-editor-item-] > td > textarea.rozetta-translation-text").bind("click",(t=>{if(window.isEditing){const e=Number($(t.target.parentElement.parentElement).attr("id").replace("rozetta-translator-editor-item-",""));$("html, body").animate({scrollTop:$(`.rozetta-translate-index-${e}`).offset().top-200},500),$("[class*=rozetta-image-hightlight-selected]").removeClass("rozetta-hightlight-selected"),$(`.rozetta-translate-index-${e}`).addClass("rozetta-hightlight-selected")}}))}}else alert(getMessage("tf"))},handleImageEditor=()=>{if(!window.rozettaTranslationResult||!window.rozettaTranslationResult.filter((t=>"text"===t.type)))return void alert(getMessage("tf"));controlEditor("rozetta-image-button");const t=`\n    <h1>\n    ${getMessage("ci")}\n    </h1>\n    `;$("#rozetta-editor-title").html(t),$("#rozetta-editor-content > table").html(""),$(".confirm-button").attr("onclick","handleTranslationConfirm()"),$(".confirm-button").show(),handleTranslationEditor(!1)},handleDownloadCSV=()=>{if(window.rozettaTranslationResult){const t=`${window.rozettaTranslationResult.map((t=>[t.sourceText,t.translatedText].map((t=>`"${t.replaceAll('"','""')}"`)))).map((t=>t.join(","))).join("\n")}`,e=new Uint8Array([239,187,191]),a=new Blob([e,t],{type:"text/csv"}),r=window.URL.createObjectURL(a);$("#rozettaDownloadCsv").length?$("#rozettaDownloadCsv").attr("href",r):$("#rozetta-translator-tool").append(`<a id="rozettaDownloadCsv" download="download.csv" href="${r}" style="display: none!important;"></a>`),$("#rozettaDownloadCsv")[0].click()}else alert(getMessage("tf"))},handleUploadCSV=()=>{window.rozettaTranslationResult?($("#rozettaUploadCsv").length||($("#rozetta-translator-tool").append('<input id="rozettaUploadCsv" type="file" accept=".csv" style="display: none!important;" />'),$("#rozettaUploadCsv").bind("change",(async t=>{const e=t.target.files[0],a=e.type;if("text/csv"!==a&&"application/vnd.ms-excel"!==a)return void alert(getMessage("nst"));const r=window.rozettaTranslationResult.slice(),n=[];try{const t=await e.text(),a=$.csv.toArrays(t);a.map(((t,e)=>{const r=t[0],o=t[1];if(window.rozettaTranslationResult.map((t=>t.sourceText)).includes(r)){const t=a.slice(0,e).filter((t=>t[0]===r)).length;window.rozettaTranslationResult.filter((t=>t.sourceText===r)).map(((e,n)=>{n===t&&(e.translatedText=a.filter((t=>t[0]===r))[t][1],e.currentModified=a.filter((t=>t[0]===r))[t][1]),n>t&&(e.translatedText=o,e.currentModified=o)}))}else n.push({id:""+ ++window.rozettaTranslationResultMaxId,sourceText:r,translatedText:o})}))}catch(t){return console.log(t),void alert(getMessage("wf"))}try{await updateTranslations()}catch(t){return console.log(t),void alert(getMessage("wu"))}try{const t=[],e=e=>{if(""!==e.textContent.replace(/[\n\t\r]/g,"").trim()){let a=[];if($(e.parentElement).attr("class")&&(a=$(e.parentElement).attr("class").split(/(\s+)/)),a.find((t=>t.includes("rozetta-translate-index-")))){let n=Number(a.find((e=>e.includes("rozetta-translate-index-")&&!t.includes(e.replace("rozetta-translate-index-","")))).replace("rozetta-translate-index-",""));isApplyResultToSameText?r.find((t=>t.translatedText===e.textContent.replace(/[\n\t\r]/g,"").trim()))?(n=r.find((t=>t.translatedText===e.textContent.replace(/[\n\t\r]/g,"").trim())).id,e.textContent=window.rozettaTranslationResult.find((t=>t.id===n)).translatedText):e.textContent=window.rozettaTranslationResult.find((t=>t.id===n)).translatedText:(t.push(n),e.textContent=window.rozettaTranslationResult.find((t=>t.id===n)).translatedText)}}};ttn(document.body,(t=>{e(t)})),$("#rozettaUploadCsv").prop("value","")}catch(t){console.log(t),alert(getMessage("wb"))}}))),$("#rozettaUploadCsv")[0].click()):alert(getMessage("tf"))},handleDeleteTranslation=async()=>{const t=window.location.pathname,e=new URLSearchParams(window.location.search);console.log(window.rozettaTranslationResult);try{await fetch(`${TRANSLATION_RESULT_SERVER}/translationTexts?url=${encodeURIComponent(`${t}?lang=${lang||e.get("language")}`)}&userKey=${userKey}&textIds=${window.rozettaTranslationResult.map((t=>t.id)).join(",")}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});alert(getMessage("ds"))}catch(t){alert(getMessage("df"))}};$(document).ready((async()=>{const t=`\n    <div id="rozetta-translator-tool" class="rozetta-translator-tool">\n        <button id="rozetta-edit-button" type="button" class="btn editor-button" onClick={handleTranslationEditor()}>${getMessage("te")}</button>\n        \x3c!--button id="rozetta-dictionary-button" type="button" class="btn editor-button" onClick={handleDictionaryEditor()}>${getMessage("de")}</button--\x3e\n        <button id="rozetta-image-button" type="button" class="btn editor-button" onClick={handleImageEditor()}>${getMessage("ci")}</button>\n        <div class="csv-buttons">\n            <button type="button" class="btn btn-primary csv-button" onClick={handleUploadCSV()}>${getMessage("cu")}</button>\n            <button type="button" class="btn btn-primary csv-button" onClick={handleDownloadCSV()}>${getMessage("cd")}</button>\n        </div>\n        <button type="button" class="btn btn-error delete-button" onClick={handleDeleteTranslation()}>${getMessage("da")}</button>\n    </div>\n    <div id="rozetta-translator-editor" class="rozetta-editor">\n        <a class="btn btn-primary btn-action close-editor-button" onClick={closeEditor()}>\n            <i class="icon icon-minus"></i>\n        </a>\n        <div id="rozetta-editor-title"></div>\n        <section id="rozetta-editor-content" class="editor-content">\n            <table>\n                <tr>\n                    <th>${getMessage("ot")}</th>\n                    <th>${getMessage("tt")}</th>\n                </tr>\n            </table>\n            <button type="button" class="btn btn-primary confirm-button">${getMessage("aa")}</button>\n        </section>\n    </div>\n    `;$("body").append(t),$("button").on("click",(t=>{if(window.isEditing)return!1})),$("a:not(.rozetta-language-selector-menu-item)").on("click",(t=>{if(window.isEditing)return!1}))}));
